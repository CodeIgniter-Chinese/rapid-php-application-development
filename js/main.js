function CopyCode(e){var t=e.parentElement.parentElement.parentElement.getElementsByTagName("pre");t&&copyToClipboard(-1!=navigator.appName.indexOf("Microsoft")?t[0].innerText:t[0].textContent)}function Html2Txt(e){return str=e.replace(/\r\n/g," "),str=str.replace(/\r/g," "),str=str.replace(/\n/g," "),str=str.replace(/\t/g,""),str=str.replace(/<br>/gi,"\r\n"),str=str.replace(/<br \/>/gi,"\r\n"),str=str.replace(/<[^>]+?>/g,""),str=str.replace(/&nbsp;/g," "),str=str.replace(/&gt;/g,">"),str=str.replace(/&lt;/g,"<"),str=str.replace(/&amp;/g,"&"),str}function copyToClipboard(e){if(window.clipboardData)window.clipboardData.clearData(),window.clipboardData.setData("Text",e);else if(-1!=navigator.userAgent.indexOf("Opera"))window.location=e;else if(window.netscape){try{netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect")}catch(t){return alert("您的 Firefox 安全限制限制您进行剪贴板操作，请在地址栏中输入“about:config”将“signed.applets.codebase_principal_support”设置为“true”之后重试！"),!1}var r=Components.classes["@mozilla.org/widget/clipboard;1"].createInstance(Components.interfaces.nsIClipboard);if(!r)return;var n=Components.classes["@mozilla.org/widget/transferable;1"].createInstance(Components.interfaces.nsITransferable);if(!n)return;n.addDataFlavor("text/unicode");var a={};a=Components.classes["@mozilla.org/supports-string;1"].createInstance(Components.interfaces.nsISupportsString);var s=e;a.data=s,n.setTransferData("text/unicode",a,2*s.length);var o=Components.interfaces.nsIClipboard;if(!r)return!1;r.setData(n,null,o.kGlobalClipboard)}}"undefined"==typeof HTMLElement||window.opera||HTMLElement.prototype.__defineGetter__("parentElement",function(){return this.parentNode==this.ownerDocument?null:this.parentNode}),hljs.initHighlightingOnLoad();
